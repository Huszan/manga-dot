<div class="side-drawer">
  <div class="user-box">
    <ng-container *ngIf="user">
      <ng-container *ngTemplateOutlet="userLogged"></ng-container>
    </ng-container>
    <ng-container *ngIf="!user">
      <ng-container *ngTemplateOutlet="userNotLogged"></ng-container>
    </ng-container>
  </div>
  <mat-nav-list>
    <a
      *ngFor="let route of routes; let i = index"
      mat-list-item
      [routerLinkActive]="'active'"
      [routerLinkActiveOptions]="{ exact: true }"
      (click)="onRouteClick(route.path!)"
    >
      {{ getDisplay(i) }}
    </a>
  </mat-nav-list>
</div>

<ng-template #userNotLogged>
  <div class="login-actions">
    <button mat-raised-button (click)="onRouteClick('login')">Login</button>
    <button mat-raised-button color="accent" (click)="onRouteClick('register')">Register</button>
  </div>
</ng-template>

<ng-template #userLogged>
  <div class="account-type mat-caption"
       [ngClass]="{
        'user': user?.accountType === 'user',
        'mod': user?.accountType === 'mod',
        'admin': user?.accountType === 'admin'
        }"
  >
    {{ user?.accountType!.toUpperCase() }}</div>
  <h2 class="mat-h2">{{ user?.name }}</h2>
  <div class="login-actions">
    <button mat-raised-button color="warn" (click)="onLogoutClick()">Logout</button>
  </div>
</ng-template>
